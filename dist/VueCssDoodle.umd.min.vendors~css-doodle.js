(("undefined"!==typeof self?self:this)["webpackJsonpVueCssDoodle"]=("undefined"!==typeof self?self:this)["webpackJsonpVueCssDoodle"]||[]).push([[1],{1054:function(e,t,r){var n,s;(function(i){n=i,s="function"===typeof n?n.call(t,r,t,e):n,void 0===s||(e.exports=s)})((function(){"use strict";function e(e){let t=0,r=1,n=1;return{curr(r=0){return e[t+r]},end(){return e.length<=t},info(){return{index:t,col:r,line:n}},index(e){return void 0===e?t:t=e},next(){let s=e[t++];return"\n"==s?(n++,r=0):r++,s}}}function t(e){let t="",r=[],n=[],s={};while(!e.end()){let i=e.curr();if("("==i)r.push(i),t="";else if(")"==i||","==i){if(/^\-\-.+/.test(t)&&(s.name?(s.alternative||(s.alternative=[]),s.alternative.push({name:t})):s.name=t),")"==i){if("("!=r[r.length-1])throw new Error("bad match");r.pop()}","==i&&(r.length||(n.push(s),s={})),t=""}else/\s/.test(i)||(t+=i);e.next()}return r.length?[]:(s.name&&n.push(s),n)}function r(r){r=r.trim();let n=[];if(!/^var\(/.test(r))return n;let s=e(r);try{n=t(s)}catch(i){console.error(i&&i.message||"Bad variables.")}return n}function n(e){return Array.isArray(e)?e:[e]}function s(e,t="\n"){return(e||[]).join(t)}function i(e,t=1){return e[e.length-t]}function l(e){return e[0]}function u(e){return JSON.parse(JSON.stringify(e))}function a(e){let t=Array.from?Array.from(e):e.slice(),r=e.length;while(r){let e=~~(Math.random()*r--),n=t[r];t[r]=t[e],t[e]=n}return t}function o(e,t){return Array.prototype.flatMap?e.flatMap(t):e.reduce((e,r)=>e.concat(t(r)),[])}const c={func(e=""){return{type:"func",name:e,arguments:[]}},argument(){return{type:"argument",value:[]}},text(e=""){return{type:"text",value:e}},pseudo(e=""){return{type:"pseudo",selector:e,styles:[]}},cond(e=""){return{type:"cond",name:e,styles:[],arguments:[]}},rule(e=""){return{type:"rule",property:e,value:[]}},keyframes(e=""){return{type:"keyframes",name:e,steps:[]}},step(e=""){return{type:"step",name:e,styles:[]}}},p={white_space(e){return/[\s\n\t]/.test(e)},line_break(e){return/\n/.test(e)},number(e){return!isNaN(e)},pair(e){return['"',"(",")","'"].includes(e)},pair_of(e,t){return{'"':'"',"'":"'","(":")"}[e]==t}},h={"π":Math.PI,"∏":Math.PI};function f(e,{col:t,line:r}){console.error(`(at line ${r}, column ${t}) ${e}`)}function d(e){return e.trim().length?p.number(+e)?+e:e.trim():e}function g(e){return function(t,r){let n=t.index(),s="";while(!t.end()){let r=t.next();if(e(r))break;s+=r}return r&&t.index(n),s}}function m(e,t){let r=e=>/[^\w@]/.test(e);return g(r)(e,t)}function y(e){return g(e=>/[\s\{]/.test(e))(e)}function x(e,t){let r=e=>p.line_break(e)||"{"==e;return g(r)(e,t)}function b(e,t){let r,n=c.step();while(!e.end()){if("}"==(r=e.curr()))break;if(p.white_space(r))e.next();else{if(n.name.length){if(n.styles.push(O(e,t)),"}"==e.curr())break}else n.name=S(e);e.next()}}return n}function v(e,t){const r=[];let n;while(!e.end()){if("}"==(n=e.curr()))break;p.white_space(n)?e.next():(r.push(b(e,t)),e.next())}return r}function _(e,t){let r,n=c.keyframes();while(!e.end()){if("}"==(r=e.curr()))break;if(n.name.length){if("{"==r){e.next(),n.steps=v(e,t);break}e.next()}else if(m(e),n.name=y(e),!n.name.length){f("missing keyframes name",e.info());break}}return n}function k(e,t={}){e.next();while(!e.end()){let r=e.curr();if(t.inline){if("\n"==r)break}else if("*"==(r=e.curr())&&"/"==e.curr(1))break;e.next()}t.inline||(e.next(),e.next())}function w(e){let t,r="";while(!e.end()){if(":"==(t=e.curr()))break;p.white_space(t)||(r+=t),e.next()}return r}function $(e){let t,r=[],n=[],s=[],l="";while(!e.end()){if(t=e.curr(),/[\('"`]/.test(t)&&"\\"!==e.curr(-1))s.length&&"("!=t&&t===i(s)?s.pop():s.push(t),l+=t;else if("@"==t)n.length||(l=l.trimLeft()),l.length&&(n.push(c.text(l)),l=""),n.push(A(e));else if(/[,)]/.test(t))if(s.length)")"==t&&s.pop(),l+=t;else{if(l.length&&(n.length?n.push(c.text(l)):n.push(c.text(d(l))),l.startsWith("±"))){let e=l.substr(1),t=u(n);i(t).value="-"+e,r.push(z(t)),i(n).value=e}if(r.push(z(n)),[n,l]=[[],""],")"==t)break}else h[t]&&(t=h[t]),l+=t;e.next()}return r}function z(e){let t=e.map(e=>{if("text"==e.type&&"string"==typeof e.value){let t=String(e.value);t.includes("`")&&(e.value=t=t.replace(/`/g,'"')),e.value=t.replace(/\n+|\s+/g," ")}return e}),r=l(t)||{},n=i(t)||{};if("text"==r.type&&"text"==n.type){let e=l(r.value),t=i(n.value);"string"==typeof r.value&&"string"==typeof n.value&&p.pair(e)&&p.pair_of(e,t)&&(r.value=r.value.slice(1),n.value=n.value.slice(0,n.value.length-1))}return t}function j(e){let t="",r="";if(/\D$/.test(e))return{fname:e,extra:r};for(let n=e.length-1;n>=0;n--){let s=e[n];if(!/[\d.]/.test(s)){t=e.substring(0,n+1);break}r=s+r}return{fname:t,extra:r}}function A(e){let t,r=c.func(),n="@",s=!1;e.next();while(!e.end()){t=e.curr();let i=e.curr(1);if("("==t){s=!0,e.next(),r.arguments=$(e);break}if(!s&&"("!==i&&!/[0-9a-zA-Z_\-.]/.test(i)){n+=t;break}n+=t,e.next()}let{fname:i,extra:l}=j(n);return r.name=i,l.length&&r.arguments.unshift([{type:"text",value:l}]),r.position=e.info().index,r}function M(e){let t,r=c.text(),n=0,s=!0;const i=[],l=[];i[n]=[];while(!e.end())if(t=e.curr(),s&&p.white_space(t))e.next();else{if(s=!1,"\n"!=t||p.white_space(e.curr(-1)))if(","!=t||l.length){if(/[;}]/.test(t)){r.value.length&&(i[n].push(r),r=c.text());break}"@"==t?(r.value.length&&(i[n].push(r),r=c.text()),i[n].push(A(e))):p.white_space(t)&&p.white_space(e.curr(-1))||("("==t&&l.push(t),")"==t&&l.pop(),h[t]&&(t=h[t]),r.value+=t)}else r.value.length&&(i[n].push(r),r=c.text()),i[++n]=[],s=!0;else r.value+=" ";e.next()}return r.value.length&&i[n].push(r),i}function S(e){let t,r="";while(!e.end()){if("{"==(t=e.curr()))break;p.white_space(t)||(r+=t),e.next()}return r}function C(e){let t,r={name:"",arguments:[]};while(!e.end()){if("("==(t=e.curr()))e.next(),r.arguments=$(e);else{if(/[){]/.test(t))break;p.white_space(t)||(r.name+=t)}e.next()}return r}function E(e,t){let r,n=c.pseudo();while(!e.end()){if("}"==(r=e.curr()))break;if(p.white_space(r))e.next();else{if(n.selector){let r=O(e,t);if("@use"==r.property?n.styles=n.styles.concat(r.value):n.styles.push(r),"}"==e.curr())break}else n.selector=S(e);e.next()}}return n}function O(e,t){let r,n=c.rule();while(!e.end()){if(";"==(r=e.curr()))break;if(n.property.length){n.value=M(e);break}if(n.property=w(e),"@use"==n.property){n.value=H(e,t);break}e.next()}return n}function L(e,t){let r,n=c.cond();while(!e.end()){if("}"==(r=e.curr()))break;if(n.name.length)if(":"==r){let t=E(e);t.selector&&n.styles.push(t)}else if("@"!=r||x(e,!0).includes(":")){if(!p.white_space(r)){let r=O(e,t);if(r.property&&n.styles.push(r),"}"==e.curr())break}}else n.styles.push(L(e));else Object.assign(n,C(e));e.next()}return n}function T(e,t){let r="";return e&&e.get_custom_property_value&&(r=e.get_custom_property_value(t)),r}function N(e,t){e.forEach&&e.forEach(e=>{if("text"==e.type&&e.value){let n=r(e.value);e.value=n.reduce((e,r)=>{let n,s="",i="";s=T(t,r.name),!s&&r.alternative&&r.alternative.every(e=>{if(i=T(t,e.name),i)return s=i,!1});try{n=W(s,t)}catch(l){}return n&&e.push.apply(e,n),e},[])}"func"==e.type&&e.arguments&&e.arguments.forEach(e=>{N(e,t)})})}function H(e,t){e.next();let r=M(e)||[];return r.reduce((e,r)=>{N(r,t);let[n]=r;return n.value&&n.value.length&&e.push(...n.value),e},[])}function W(t,r){const n=e(t),s=[];while(!n.end()){let e=n.curr();if(p.white_space(e))n.next();else{if("/"==e&&"*"==n.curr(1))k(n);else if("/"==e&&"/"==n.curr(1))k(n,{inline:!0});else if(":"==e){let e=E(n,r);e.selector&&s.push(e)}else if("@"==e&&"@keyframes"===m(n,!0)){let e=_(n,r);s.push(e)}else if("@"!=e||x(n,!0).includes(":")){if(!p.white_space(e)){let e=O(n,r);e.property&&s.push(e)}}else{let e=L(n,r);e.name.length&&s.push(e)}n.next()}}return s}function D(e,...t){return t.reduce((e,t)=>e.apply(null,n(t)),e)}function I(e,t,r){return Math.max(t,Math.min(r,e))}function P(e,t){return e?"function"===typeof t?t():t:""}function R(e,t,r){let n=0,s=e,i=e=>e>0&&e<1?.1:1,l=arguments.length;1==l&&([e,t]=[i(e),e]),l<3&&(r=i(e));let u=[];while(r>=0&&e<=t||r<0&&e>t)if(u.push(e),e+=r,n++>=1e3)break;return u.length||u.push(s),u}function J(e,t){return Object.keys(t).forEach(r=>{e[r]=e[t[r]]}),e}function q(e){return/^[a-zA-Z]$/.test(e)}function U(e){let t=()=>e;return t.lazy=!0,t}function V(e,t){let r=[];for(let n=0;n<e;++n)r.push(t(n));return r}function Z(e,t,r){return"cell-"+e+"-"+t+"-"+r}const[B,F,X]=[1,32,1024];function G(e){let[t,r,n]=(e+"").replace(/\s+/g,"").replace(/[,，xX]+/g,"x").split("x").map(Number);const s=1==t||1==r?X:F,i=1==t&&1==r?X:B,l={x:I(t||B,1,s),y:I(r||t||B,1,s),z:I(n||B,1,i)};return Object.assign({},l,{count:l.x*l.y*l.z})}function K(e,t){if(t){let r=new Blob([e],{type:"image/svg+xml"}),n=URL.createObjectURL(r);return`url(${n}#${t})`}{let t=encodeURIComponent(e);return`url("data:image/svg+xml;utf8,${t}")`}}function Q(e){const t='xmlns="http://www.w3.org/2000/svg"';return e.includes("<svg")||(e=`<svg ${t}>${e}</svg>`),e.includes("xmlns")||(e=e.replace(/<svg([\s>])/,`<svg ${t}$1`)),e}function Y(e,t,r){return e*(1-r)+t*r}function ee(e=0,t=e){return 1==arguments.length&&(1==e?e=0:e<1?e/=10:e=1),Y(e,t,Math.random())}function te(...e){let t=e.reduce((e,t)=>e.concat(t),[]);return t[~~(Math.random()*t.length)]}function re(e=""){return e+Math.random().toString(32).substr(2)}function ne(e){return(...t)=>{let r=ie(t);return se(e,r).apply(null,t)}}function se(e,t){return(...r)=>{r=r.map(e=>Number(String(e).replace(/\D+$/g,"")));let n=e.apply(null,r);return t.length?Array.isArray(n)?n.map(e=>e+t):n+t:n}}function ie(e){let t="";return e.some(e=>{let r=String(e).trim();if(!r)return"";let n=r.match(/\d(\D+)$/);return t=n?n[1]:""}),t}function le(e){return(...t)=>{let r=t.map(e=>String(e).charCodeAt(0)),n=e.apply(null,r);return Array.isArray(n)?n.map(e=>String.fromCharCode(e)):String.fromCharCode(n)}}function ue(e){const t=ce(e),r=[];while(t.length){let e=t.shift();if(/\d+/.test(e))r.push(e);else{let t=r.pop(),n=r.pop();r.push(pe(e,Number(n),Number(t)))}}return r[0]}const ae={"*":3,"/":3,"%":3,"+":2,"-":2,"(":1,")":1};function oe(e){let t=String(e),r=[],n="";for(let s=0;s<t.length;++s){let e=t[s];if(ae[e])if("-"==e&&"e"==t[s-1])n+=e;else if(r.length||n.length||!/[+-]/.test(e)){let{type:t,value:s}=i(r)||{};"operator"==t&&!n.length&&/[^()]/.test(e)&&/[^()]/.test(s)?n+=e:(n.length&&(r.push({type:"number",value:n}),n=""),r.push({type:"operator",value:e}))}else n+=e;else/\S/.test(e)&&(n+=e)}return n.length&&r.push({type:"number",value:n}),r}function ce(e){let t=oe(e);const r=[],n=[];for(let s=0;s<t.length;++s){let{type:e,value:l}=t[s];if("number"==e)n.push(l);else if("operator"==e)if("("==l)r.push(l);else if(")"==l){while(r.length&&"("!=i(r))n.push(r.pop());r.pop()}else{while(r.length&&ae[i(r)]>=ae[l]){let e=r.pop();/[()]/.test(e)||n.push(e)}r.push(l)}}while(r.length)n.push(r.pop());return n}function pe(e,t,r){switch(e){case"+":return t+r;case"-":return t-r;case"*":return t*r;case"/":return t/r;case"%":return t%r}}const he={};function fe(e,t){return(...r)=>{let n=e+r.join("-");return he[n]?he[n]:he[n]=t.apply(null,r)}}function de(e){return(...t)=>e.apply(null,o(t,e=>String(e).startsWith("[")?ye(e):e))}function ge(e,t){return{type:e,value:t}}function me(e){let t=String(e),r=[],n=[];if(!t.startsWith("[")||!t.endsWith("]"))return r;for(let s=1;s<t.length-1;++s){let e=t[s];if("-"!=e||"-"!=t[s-1])if("-"!=e)if("-"!=i(n))n.length&&r.push(ge("char",n.pop())),n.push(e);else{n.pop();let t=n.pop();r.push(t?ge("range",[t,e]):ge("char",e))}else n.push(e)}return n.length&&r.push(ge("char",n.pop())),r}const ye=fe("build_range",e=>{let t=me(e);return o(t,({type:e,value:t})=>{if("char"==e)return t;let[r,n]=t,s=!1;r>n&&([r,n]=[n,r],s=!0);let i=le(R)(r,n);return s&&i.reverse(),i})});class xe{constructor(e){this.prev=this.next=null,this.data=e}}class be{constructor(e=20){this._limit=e,this._size=0}push(e){this._size>=this._limit&&(this.root=this.root.next,this.root.prev=null);let t=new xe(e);this.root?(t.prev=this.tail,this.tail.next=t,this.tail=t):this.root=this.tail=t,this._size++}last(e=1){let t=this.tail;while(--e){if(!t.prev)break;t=t.prev}return t.data}}const{cos:ve,sin:_e,sqrt:ke,pow:we,PI:$e}=Math,ze=$e/180;function je(e,t){"function"==typeof arguments[0]&&(t=e,e={}),t||(t=e=>[ve(e),_e(e)]);let r=e.split||120,n=e.scale||1,s=ze*(e.start||0),i=e.deg?e.deg*ze:$e/(r/2),l=[];for(let u=0;u<r;++u){let e=s+i*u,[r,a]=t(e);l.push(50*r*n+50+"% "+(50*a*n+50)+"%")}return e.type?`polygon(${e.type}, ${l.join(",")})`:`polygon(${l.join(",")})`}function Ae(e,t,r){let n=ze*r;return[e*ve(n)-t*_e(n),t*ve(n)+e*_e(n)]}const Me={circle(){return"circle(49%)"},triangle(){return je({split:3,start:-90},e=>[1.1*ve(e),1.1*_e(e)+.2])},rhombus(){return je({split:4})},pentagon(){return je({split:5,start:54})},hexgon(){return je({split:6,start:30})},hexagon(){return je({split:6,start:30})},heptagon(){return je({split:7,start:-90})},octagon(){return je({split:8,start:22.5})},star(){return je({split:5,start:54,deg:144})},diamond(){return"polygon(50% 5%, 80% 50%, 50% 95%, 20% 50%)"},cross(){return"polygon(\n      5% 35%,  35% 35%, 35% 5%,  65% 5%,\n      65% 35%, 95% 35%, 95% 65%, 65% 65%,\n      65% 95%, 35% 95%, 35% 65%, 5% 65%\n    )"},clover(e=3){return e=I(e,3,5),4==e&&(e=2),je({split:240},t=>{let r=ve(e*t)*ve(t),n=ve(e*t)*_e(t);return 3==e&&(r-=.2),2==e&&(r/=1.1,n/=1.1),[r,n]})},hypocycloid(e=3){e=I(e,3,6);let t=1-e;return je({scale:1/e},r=>{let n=t*ve(r)+ve(t*(r-$e)),s=t*_e(r)+_e(t*(r-$e));return 3==e&&(n=1.1*n-.6,s*=1.1),[n,s]})},astroid(){return Me.hypocycloid(4)},infinity(){return je(e=>{let t=.7*ke(2)*ve(e),r=we(_e(e),2)+1;return[t/r,t*_e(e)/r]})},heart(){return je(e=>{let t=.75*we(_e(e),3),r=ve(1*e)*(13/18)-ve(2*e)*(5/18)-ve(3*e)/18-ve(4*e)/18;return Ae(1.2*t,1.1*(r+.2),180)})},bean(){return je(e=>{let[t,r]=[we(_e(e),3),we(ve(e),3)];return Ae((t+r)*ve(e)*1.3-.45,(t+r)*_e(e)*1.3-.45,-90)})},bicorn(){return je(e=>Ae(ve(e),we(_e(e),2)/(2+_e(e))-.5,180))},drop(){return je(e=>Ae(_e(e),(1+_e(e))*ve(e)/1.4,90))},pear(){return je(e=>[_e(e),(1+_e(e))*ve(e)/1.4])},fish(){return je(e=>[ve(e)-we(_e(e),2)/ke(2),_e(2*e)/2])},whale(){return je({split:240},e=>{let t=3.4*(we(_e(e),2)-.5)*ve(e);return Ae(ve(e)*t+.75,_e(e)*t*1.2,180)})},bud(e=3){return e=I(e,3,10),je({split:240},t=>[(1+.2*ve(e*t))*ve(t)*.8,(1+.2*ve(e*t))*_e(t)*.8])},alien(...e){let[t=1,r=1,n=1,s=1,i=1]=e.map(e=>I(e,1,9));return je({split:480,type:"evenodd"},e=>[.31*(ve(e*t)+ve(e*n)+ve(e*i)),.31*(_e(e*r)+_e(e*s)+_e(e))])}},Se={index({count:e}){return t=>e},row({x:e}){return t=>e},col({y:e}){return t=>e},depth({z:e}){return t=>e},size({grid:e}){return t=>e.count},["size-row"]({grid:e}){return t=>e.x},["size-col"]({grid:e}){return t=>e.y},["size-depth"]({grid:e}){return t=>e.z},id({x:e,y:t,z:r}){return n=>Z(e,t,r)},n({extra:e}){return t=>e[0]||0},N({extra:e}){return t=>e[1]||0},repeat:Ce(""),multiple:Ce(","),["multiple-with-space"]:Ce(" "),pick({context:e}){return de((...t)=>Ee(e,"last_pick",te(t)))},["pick-n"]({context:e,extra:t,position:r}){let n="pn-counter"+r;return de((...r)=>{e[n]||(e[n]=0),e[n]+=1;let s=r.length,[i]=t||[],l=((void 0===i?e[n]:i)-1)%s,u=r[l];return Ee(e,"last_pick",u)})},["pick-d"]({context:e,extra:t,position:r}){let n="pd-counter"+r,s="pd-values"+r;return de((...r)=>{e[n]||(e[n]=0),e[n]+=1,e[s]||(e[s]=a(r));let i=r.length,[l]=t||[],u=((void 0===l?e[n]:l)-1)%i,o=e[s][u];return Ee(e,"last_pick",o)})},["last-pick"]({context:e}){return(t=1)=>{let r=e.last_pick;return r?r.last(t):""}},rand({context:e}){return(...t)=>{let r=t.every(q)?le:ne,n=r(ee).apply(null,t);return Ee(e,"last_rand",n)}},["rand-int"]({context:e}){return(...t)=>{let r=t.every(q)?le:ne,n=parseInt(r(ee).apply(null,t));return Ee(e,"last_rand",n)}},["last-rand"]({context:e}){return(t=1)=>{let r=e.last_rand;return r?r.last(t):""}},calc(){return e=>ue(e)},hex(){return e=>parseInt(e).toString(16)},svg:U(e=>{if(void 0===e)return"";let t=Q(e().trim());return K(t)}),["svg-filter"]:U(e=>{if(void 0===e)return"";let t=re("filter-"),r=Q(e().trim()).replace(/<filter([\s>])/,`<filter id="${t}"$1`);return K(r,t)}),var(){return e=>`var(${e})`},shape(){return memo("shape-function",(e="",...t)=>(e=e.trim(),"function"===typeof Me[e]?Me[e](t):""))}};function Ce(e){return U((t,r)=>{if(!r||!t)return"";let n=I(t(),0,65536);return V(n,e=>r(e+1,n)).join(e)})}function Ee(e,t,r){return e[t]||(e[t]=new be),e[t].push(r),r}var Oe=J(Se,{m:"multiple",ms:"multiple-with-space",r:"rand",ri:"rand-int",lr:"last-rand",p:"pick",pn:"pick-n",pd:"pick-d",lp:"last-pick",rep:"repeat",i:"index",x:"row",y:"col",z:"depth",s:"size",sx:"size-row",sy:"size-col",sz:"size-depth","size-x":"size-row","size-y":"size-col","size-z":"size-depth",multi:"multiple","pick-by-turn":"pick-n","max-row":"size-row","max-col":"size-col"});const Le=e=>/[,，\s]/.test(e);function Te(e){while(!e.end()){if(!Le(e.curr(1)))break;e.next()}}function Ne(t){const r=e(t),n=[],s=[];let i="";while(!r.end()){let e=r.curr();"("==e?(i+=e,s.push(e)):")"==e?(i+=e,s.length&&s.pop()):s.length?i+=e:Le(e)?(n.push(i),i="",Te(r)):i+=e,r.next()}return i&&n.push(i),n}let He=[];function We(e){if(!He.length){let e=new Set;for(let t in document.head.style)t.startsWith("-")||e.add(t.replace(/[A-Z]/g,"-$&").toLowerCase());e.has("grid-gap")||e.add("grid-gap"),He=Array.from(e)}return e&&e.test?He.filter(t=>e.test(t)):He}function De(e){let t=new RegExp(`\\-?${e}\\-?`);return We(t).map(e=>e.replace(t,"")).reduce((e,t)=>(e[t]=t,e),{})}const Ie=De("webkit"),Pe=De("moz");function Re(e,t){return Ie[e]?`-webkit-${t} ${t}`:Pe[e]?`-moz-${t} ${t}`:t}const Je={"4a0":[1682,2378],"2a0":[1189,1682],a0:[841,1189],a1:[594,841],a2:[420,594],a3:[297,420],a4:[210,297],a5:[148,210],a6:[105,148],a7:[74,105],a8:[52,74],a9:[37,52],a10:[26,37],b0:[1e3,1414],b1:[707,1e3],b2:[500,707],b3:[353,500],b4:[250,353],b5:[176,250],b6:[125,176],b7:[88,125],b8:[62,88],b9:[44,62],b10:[31,44],b11:[22,32],b12:[16,22],c0:[917,1297],c1:[648,917],c2:[458,648],c3:[324,458],c4:[229,324],c5:[162,229],c6:[114,162],c7:[81,114],c8:[57,81],c9:[40,57],c10:[28,40],c11:[22,32],c12:[16,22],d0:[764,1064],d1:[532,760],d2:[380,528],d3:[264,376],d4:[188,260],d5:[130,184],d6:[92,126],letter:[216,279],legal:[216,356],"junior-legal":[203,127],ledger:[279,432],tabloid:[279,432],executive:[190,254],postcard:[100,148],"business-card":[54,90],poster:[390,540]},qe={portrait:"p",pt:"p",p:"p",landscape:"l",ls:"l",l:"l"},Ue="mm";function Ve(e,t){e=String(e).toLowerCase();let[r,n]=Je[e]||[];return"p"==qe[t]&&([n,r]=[r,n]),[n,r].map(e=>e+Ue)}function Ze(e){return!!Je[e]}var Be={["@size"](e,{is_special_selector:t}){let[r,n=r]=Ne(e);return Ze(r)&&([r,n]=Ve(r,n)),`\n      width: ${r};\n      height: ${n};\n      ${t?"":`\n        --internal-cell-width: ${r};\n        --internal-cell-height: ${n};\n      `}\n    `},["@min-size"](e){let[t,r=t]=Ne(e);return`min-width: ${t}; min-height: ${r};`},["@max-size"](e){let[t,r=t]=Ne(e);return`max-width: ${t}; max-height: ${r};`},["@place-cell"]:(()=>{let e={center:"50%",0:"0%",left:"0%",right:"100%",top:"50%",bottom:"50%"},t={center:"50%",0:"0%",top:"0%",bottom:"100%",left:"50%",right:"50%"};return r=>{let[n,s="50%"]=Ne(r);n=e[n]||n,s=t[s]||s;const i="var(--internal-cell-width, 25%)",l="var(--internal-cell-height, 25%)";return`\n        position: absolute;\n        left: ${n};\n        top: ${s};\n        width: ${i};\n        height: ${l};\n        margin-left: calc(${i} / -2) !important;\n        margin-top: calc(${l} / -2) !important;\n        grid-area: unset !important;\n      `}})(),["@grid"](e,t){let[r,n]=e.split("/").map(e=>e.trim());return{grid:G(r),size:n?this["@size"](n,t):""}},["@shape"]:fe("shape-property",e=>{let[t,...r]=Ne(e),n="clip-path";if(!Me[t])return"";let s=`${n}: ${Me[t].apply(null,r)};`;return Re(n,s)+"overflow: hidden;"}),["@use"](e){if(e.length>2)return e}};function Fe(e){return t=>String(e).replace(/(\d+)(n)/g,"$1*"+t).replace(/n/g,t)}function Xe(e,t,r){let n=Fe(e);for(let s=0;s<=r;++s)if(ue(n(s))==t)return!0}const Ge={even:e=>!!(e%2),odd:e=>!(e%2)};function Ke(e){return/^(even|odd)$/.test(e)}var Qe={at({x:e,y:t}){return(r,n)=>e==r&&t==n},nth({count:e,grid:t}){return(...r)=>r.some(r=>Ke(r)?Ge[r](e-1):Xe(r,e,t.count))},row({x:e,grid:t}){return(...r)=>r.some(r=>Ke(r)?Ge[r](e-1):Xe(r,e,t.x))},col({y:e,grid:t}){return(...r)=>r.some(r=>Ke(r)?Ge[r](e-1):Xe(r,e,t.y))},even({count:e}){return t=>Ge.even(e-1)},odd({count:e}){return t=>Ge.odd(e-1)},random(){return(e=.5)=>(e>=1&&e<=0&&(e=.5),Math.random()<e)}};const Ye=Object.getOwnPropertyNames(Math);var et=Ye.reduce((e,t)=>(e[t]=()=>(...e)=>"number"===typeof Math[t]?Math[t]:Math[t].apply(null,e.map(ue)),e),{});function tt(e){return/^\:(host|doodle)/.test(e)}function rt(e){return/^\:(container|parent)/.test(e)}function nt(e){return tt(e)||rt(e)}function st(e){return void 0===e||null===e}class it{constructor(e){this.tokens=e,this.rules={},this.props={},this.keyframes={},this.grid=null,this.coords=[],this.reset()}reset(){this.styles={host:"",container:"",cells:"",keyframes:""},this.coords=[];for(let e in this.rules)e.startsWith("#cell")&&delete this.rules[e]}add_rule(e,t){let r=this.rules[e];r||(r=this.rules[e]=[]),r.push.apply(r,n(t))}pick_func(e){return Oe[e]||et[e]}compose_aname(...e){return e.join("-")}compose_selector({x:e,y:t,z:r},n=""){return`#${Z(e,t,r)}${n}`}compose_argument(e,t,r=[]){let n=e.map(e=>{if("text"==e.type)return e.value;if("func"==e.type){let n=this.pick_func(e.name.substr(1));if(n){t.extra=r,t.position=e.position;let s=e.arguments.map(e=>n.lazy?(...r)=>this.compose_argument(e,t,r):this.compose_argument(e,t,r));return D(n,t,s)}}});return n.length>=2?n.join(""):n[0]}compose_value(e,t){return e&&e.reduce?e.reduce((e,r)=>{switch(r.type){case"text":e+=r.value;break;case"func":{let n=r.name.substr(1),s=this.pick_func(n);if(s){t.position=r.position;let n=r.arguments.map(e=>s.lazy?(...r)=>this.compose_argument(e,t,r):this.compose_argument(e,t)),i=D(s,t,n);st(i)||(e+=i)}}}return e},""):""}compose_rule(e,t,r){let n=Object.assign({},t),s=e.property,i=e.value.reduce((e,t)=>{let r=this.compose_value(t,n);return r&&e.push(r),e},[]),l=i.join(", ");if(/^animation(\-name)?$/.test(s)&&(this.props.has_animation=!0,n.count>1)){let{count:e}=n;switch(s){case"animation-name":l=i.map(t=>this.compose_aname(t,e)).join(", ");break;case"animation":l=i.map(t=>{let r=(t||"").split(/\s+/);return r[0]=this.compose_aname(r[0],e),r.join(" ")}).join(", ")}}"content"==s&&(/["']|^none$|^(var|counter|counters|attr)\(/.test(l)||(l=`'${l}'`)),"transition"==s&&(this.props.has_transition=!0);let u=`${s}: ${l};`;if(u=Re(s,u),"clip-path"==s&&(u+=";overflow: hidden;"),"width"!=s&&"height"!=s||nt(r)||(u+=`--internal-cell-${s}: ${l};`),Be[s]){let t=Be[s](l,{is_special_selector:nt(r)});switch(s){case"@grid":tt(r)&&(this.grid=t.grid,u=t.size||"");break;case"@place-cell":tt(r)||(u=t);case"@use":e.value.length&&this.compose(n,e.value),u=Be[s](e.value);default:u=t}}return u}compose(e,t,r){this.coords.push(e),(t||this.tokens).forEach((t,n)=>{if(t.skip)return!1;if(r&&this.grid)return!1;switch(t.type){case"rule":this.add_rule(this.compose_selector(e),this.compose_rule(t,e));break;case"pseudo":{t.selector.startsWith(":doodle")&&(t.selector=t.selector.replace(/^\:+doodle/,":host"));let r=nt(t.selector);r&&(t.skip=!0),t.selector.split(",").forEach(n=>{let s=t.styles.map(t=>this.compose_rule(t,e,n)),i=r?n:this.compose_selector(e,n);this.add_rule(i,s)});break}case"cond":{let r=Qe[t.name.substr(1)];if(r){let n=t.arguments.map(t=>this.compose_argument(t,e)),s=D(r,e,n);s&&this.compose(e,t.styles)}break}case"keyframes":this.keyframes[t.name]||(this.keyframes[t.name]=e=>`\n              ${s(t.steps.map(t=>`\n                ${t.name} {\n                  ${s(t.styles.map(t=>this.compose_rule(t,e)))}\n                }\n              `))}\n            `)}})}output(){Object.keys(this.rules).forEach((e,t)=>{if(rt(e))this.styles.container+=`\n          .container {\n            ${s(this.rules[e])}\n          }\n        `;else{let t=tt(e)?"host":"cells";this.styles[t]+=`\n          ${e} {\n            ${s(this.rules[e])}\n          }\n        `}});let e=Object.keys(this.keyframes);return this.coords.forEach((t,r)=>{e.forEach(e=>{let n=this.compose_aname(e,t.count);this.styles.keyframes+=`\n          ${P(0==r,`@keyframes ${e} {\n              ${this.keyframes[e](t)}\n            }`)}\n          @keyframes ${n} {\n            ${this.keyframes[e](t)}\n          }\n        `})}),{props:this.props,styles:this.styles,grid:this.grid}}}function lt(e,t){let r=new it(e),n={};r.compose({x:1,y:1,z:1,count:1,context:{},grid:{x:1,y:1,z:1,count:1}},null,!0);let{grid:s}=r.output();if(s&&(t=s),r.reset(),1==t.z)for(let i=1,l=0;i<=t.x;++i)for(let e=1;e<=t.y;++e)r.compose({x:i,y:e,z:1,count:++l,grid:t,context:n});else for(let i=1,l=0;i<=t.z;++i)r.compose({x:1,y:1,z:i,count:++l,grid:t,context:n});return r.output()}class ut extends HTMLElement{constructor(){super(),this.doodle=this.attachShadow({mode:"open"}),this.extra={get_custom_property_value:this.get_custom_property_value.bind(this)}}connectedCallback(e){setTimeout(()=>{let t,r=this.getAttribute("use")||"";if(r&&(r=`@use:${r};`),!this.innerHTML.trim()&&!r)return!1;try{let e=W(r+this.innerHTML,this.extra);this.grid_size=G(this.getAttribute("grid")),t=lt(e,this.grid_size),t.grid&&(this.grid_size=t.grid),this.build_grid(t)}catch(n){this.innerHTML="",console.error(n&&n.message||"Error in css-doodle.")}!e&&this.hasAttribute("click-to-update")&&this.addEventListener("click",e=>this.update())})}get_custom_property_value(e){return getComputedStyle(this).getPropertyValue(e).trim().replace(/^\(|\)$/g,"")}cell(e,t,r){let n=document.createElement("div");return n.id=Z(e,t,r),n}build_grid(e){const{has_transition:t,has_animation:r}=e.props,{keyframes:n,host:s,container:i,cells:l}=e.styles;this.doodle.innerHTML=`\n      <style>\n        ${this.style_basic()}\n      </style>\n      <style class="style-keyframes">\n        ${n}\n      </style>\n      <style class="style-container">\n        ${this.style_size()}\n        ${s}\n        ${i}\n      </style>\n      <style class="style-cells">\n        ${t||r?"":l}\n      </style>\n      <div class="container"></div>\n    `,this.doodle.querySelector(".container").appendChild(this.html_cells()),(t||r)&&setTimeout(()=>{this.set_style(".style-cells",l)},50)}inherit_props(e){return We(/grid/).map(e=>`${e}: inherit;`).join("")}style_basic(){return`\n      * {\n        box-sizing: border-box;\n      }\n      *::after, *::before {\n        box-sizing: inherit;\n      }\n      :host {\n        display: block;\n        visibility: visible;\n        width: 1em;\n        height: 1em;\n      }\n      .container {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        display: grid;\n        ${this.inherit_props()}\n      }\n      .container div:empty {\n        position: relative;\n        line-height: 1;\n        display: grid;\n        place-content: center;\n      }\n    `}style_size(){let{x:e,y:t}=this.grid_size;return`\n      :host {\n        grid-template-rows: repeat(${e}, 1fr);\n        grid-template-columns: repeat(${t}, 1fr);\n      }\n    `}html_cells(){let{x:e,y:t,z:r}=this.grid_size,n=document.createDocumentFragment();if(1==r)for(let s=1;s<=e;++s)for(let e=1;e<=t;++e)n.appendChild(this.cell(s,e,1));else{let e=null;for(let t=1;t<=r;++t){let r=this.cell(1,1,t);(e||n).appendChild(r),e=r}e=null}return n}set_style(e,t){const r=this.shadowRoot.querySelector(e);r&&(r.styleSheet?r.styleSheet.cssText=t:r.innerHTML=t)}update(e){let t=this.getAttribute("use")||"";t&&(t=`@use:${t};`),e||(e=this.innerHTML),this.innerHTML=e,this.grid_size||(this.grid_size=G(this.getAttribute("grid")));const r=lt(W(t+e,this.extra),this.grid_size);if(r.grid){let{x:e,y:t,z:n}=r.grid,{x:s,y:i,z:l}=this.grid_size;if(s!==e||i!==t||l!==n)return Object.assign(this.grid_size,r.grid),this.build_grid(r);Object.assign(this.grid_size,r.grid)}else{let r=G(this.getAttribute("grid")),{x:n,y:s,z:i}=r,{x:l,y:u,z:a}=this.grid_size;if(l!==n||u!==s||a!==i)return Object.assign(this.grid_size,r),this.build_grid(lt(W(t+e,this.extra),this.grid_size))}this.set_style(".style-keyframes",r.styles.keyframes),r.props.has_animation&&(this.set_style(".style-cells",""),this.set_style(".style-container","")),setTimeout(()=>{this.set_style(".style-container",this.style_size()+r.styles.host+r.styles.container),this.set_style(".style-cells",r.styles.cells)})}get grid(){return Object.assign({},this.grid_size)}set grid(e){this.setAttribute("grid",e),this.connectedCallback(!0)}get use(){return this.getAttribute("use")}set use(e){this.setAttribute("use",e),this.connectedCallback(!0)}static get observedAttributes(){return["grid","use"]}attributeChangedCallback(e,t,r){if(t==r)return!1;"grid"==e&&t&&(this.grid=r),"use"==e&&t&&(this.use=r)}}customElements.get("css-doodle")||customElements.define("css-doodle",ut)}))}}]);